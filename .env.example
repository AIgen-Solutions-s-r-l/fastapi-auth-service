# =============================================================================
# Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your actual values.
# NEVER commit the .env file to version control.
# =============================================================================

# -----------------------------------------------------------------------------
# Database Settings
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/auth_db
TEST_DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/auth_db_test

# -----------------------------------------------------------------------------
# Authentication & Security
# -----------------------------------------------------------------------------
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
SECRET_KEY=your-secret-key-generate-a-secure-random-string
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60

# Internal service-to-service API key
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
INTERNAL_API_KEY=your-internal-api-key

# -----------------------------------------------------------------------------
# Stripe Payment Integration
# -----------------------------------------------------------------------------
# Get these from https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
STRIPE_API_VERSION=2024-06-20
STRIPE_FREE_TRIAL_PRICE_ID=price_free_trial
FREE_TRIAL_DAYS=7
FREE_TRIAL_CREDITS=10

# -----------------------------------------------------------------------------
# Email Service (SendGrid)
# -----------------------------------------------------------------------------
# Get this from https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=SG.your_sendgrid_api_key
SENDGRID_HOST=https://api.sendgrid.com
AZURE_DOMAIN=example.com
EMAIL_FROM_NAME=Auth Service
EMAIL_FROM_ADDRESS=noreply@example.com

# -----------------------------------------------------------------------------
# Google OAuth 2.0
# -----------------------------------------------------------------------------
# Get these from https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:3000/api/auth/google-callback
OAUTH_SCOPES=openid email profile

# -----------------------------------------------------------------------------
# Frontend & URLs
# -----------------------------------------------------------------------------
FRONTEND_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOW_CREDENTIALS=true
# Comma-separated list of allowed HTTP methods
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
# Comma-separated list of allowed headers
CORS_ALLOW_HEADERS=Authorization,Content-Type,X-API-Key
# Preflight cache duration in seconds
CORS_MAX_AGE=600

# -----------------------------------------------------------------------------
# Whitelabel Configuration
# -----------------------------------------------------------------------------
COMPANY_NAME=Your Company
COMPANY_LEGAL_NAME=Your Company Inc.
COMPANY_ADDRESS=123 Main Street, City, Country
COMPANY_VAT=
SUPPORT_EMAIL=support@example.com

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_ENABLED=true
# Default rate limit for all endpoints
RATE_LIMIT_DEFAULT=100/minute
# Stricter rate limit for auth endpoints (login, register, password reset)
RATE_LIMIT_AUTH=10/minute
# Storage backend: memory:// for single instance, redis://host:port for distributed
RATE_LIMIT_STORAGE_URI=memory://

# -----------------------------------------------------------------------------
# Security - Input Validation
# -----------------------------------------------------------------------------
# Comma-separated list of allowed domains for OAuth redirect URIs
# Leave empty to allow only FRONTEND_URL domain (recommended for most setups)
# Example: example.com,app.example.com (allows these domains and subdomains)
ALLOWED_REDIRECT_DOMAINS=

# -----------------------------------------------------------------------------
# Database Connection Pool
# -----------------------------------------------------------------------------
# Number of connections to keep open in the pool
DB_POOL_SIZE=5
# Maximum number of connections that can be created beyond pool_size
DB_MAX_OVERFLOW=10
# Seconds to wait for a connection from the pool before timing out
DB_POOL_TIMEOUT=30
# Seconds after which a connection is recycled (prevents stale connections)
DB_POOL_RECYCLE=1800
# Whether to verify connections are alive before using them
DB_POOL_PRE_PING=true
# Whether to log SQL queries (useful for debugging, disable in production)
DB_ECHO=false

# -----------------------------------------------------------------------------
# Development Settings
# -----------------------------------------------------------------------------
DEBUG=false
